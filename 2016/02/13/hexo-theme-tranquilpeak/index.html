
<!DOCTYPE html>
<html lang="en">
    
<head>
    <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" >
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="阿泰的菜园">
    <title>使用Hexo theme Tranquilpeak - 阿泰的菜园</title>
    <meta name="author" content="阿泰">
    
    
    
        <link rel="alternate" type="application/atom+xml" title="RSS" href="/atom.xml">
    
    <meta name="description" content="美观并且有活跃开发的Tranquilpeak是我最近重整Blog选择的Theme，调试花费了一些时间，整理记录这篇文档。">
<meta property="og:type" content="blog">
<meta property="og:title" content="使用Hexo theme Tranquilpeak">
<meta property="og:url" content="http://blog.huatai.me/2016/02/13/hexo-theme-tranquilpeak/index.html">
<meta property="og:site_name" content="阿泰的菜园">
<meta property="og:description" content="美观并且有活跃开发的Tranquilpeak是我最近重整Blog选择的Theme，调试花费了一些时间，整理记录这篇文档。">
<meta property="og:updated_time" content="2016-02-12T16:20:42.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="使用Hexo theme Tranquilpeak">
<meta name="twitter:description" content="美观并且有活跃开发的Tranquilpeak是我最近重整Blog选择的Theme，调试花费了一些时间，整理记录这篇文档。">
<meta name="twitter:creator" content="@huatai">
    
    
        
    
    
        <meta property="og:image" content="http://blog.huatai.me/assets/images/me.png"/>
    
    
    
    
    <!--STYLES-->
    <link rel="stylesheet" href="/assets/css/style-ejlztp1tasruqfvoz6xmgqng0anzae8ox7cqjj5yibieqgcmhe9fwxfae6zj.min.css" type="text/css">
    <!--STYLES END-->
    
    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


<header id="header" data-behavior="3">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <h1 class="header-title">
        <a class="header-title-link" href="/ ">阿泰的菜园</a>
    </h1>
    
        
            <a  class="header-right-icon st-search-show-outputs"
                href="/#search">
        
        
            <i class="fa fa-lg fa-search"></i>
        
        </a>
    
</header>

            <!-- Define author's picture -->



        
    

<nav id="sidebar" data-behavior="3">
    
        <div class="sidebar-profile">
            <a href="/#about">
                    <img class="sidebar-profile-picture" src="/assets/images/me.png"/>
            </a>
            <span class="sidebar-profile-name">阿泰</span>
        </div>
    
    
        <ul class="sidebar-buttons">
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/ "
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-home"></i>
                    <span class="sidebar-button-desc">Home</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/all-categories"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
                    <span class="sidebar-button-desc">Categories</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/all-tags"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
                    <span class="sidebar-button-desc">Tags</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/all-archives"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-archive"></i>
                    <span class="sidebar-button-desc">Archives</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link st-search-show-outputs"
                         href="/#search"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-search"></i>
                    <span class="sidebar-button-desc">Search</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/#about"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-question"></i>
                    <span class="sidebar-button-desc">About</span>
                </a>
        </li>
        
    </ul>
    
        <ul class="sidebar-buttons">
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link " href="https://github.com/huataihuang" target="_blank">
                
                    <i class="sidebar-button-icon fa fa-lg fa-github"></i>
                    <span class="sidebar-button-desc">GitHub</span>
                </a>
        </li>
        
    </ul>
    
        <ul class="sidebar-buttons">
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/atom.xml"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-rss"></i>
                    <span class="sidebar-button-desc">RSS</span>
                </a>
        </li>
        
    </ul>
    
</nav>

            
            <div id="main" data-behavior="3"
                 class="
                        hasCoverMetaIn
                        ">
                
<article class="post" itemscope itemType="http://schema.org/BlogPosting">
    
    
        <div class="post-header main-content-wrap text-left">
    
        <h1 class="post-title" itemprop="headline">
            使用Hexo theme Tranquilpeak
        </h1>
    
    <div class="post-meta">
    <time itemprop="datePublished" content="Sat Feb 13 2016 00:17:38 GMT+0800">
	
		    Feb 13, 2016
    	
    </time>
    
</div>
</div>
    
    <div class="post-content markdown" itemprop="articleBody">
        <div class="main-content-wrap">
            <p>美观并且有活跃开发的<a href="https://github.com/LouisBarranqueiro/hexo-theme-tranquilpeak" target="_blank" rel="external">Tranquilpeak</a>是我最近重整Blog选择的Theme，调试花费了一些时间，整理记录这篇文档。</p>
<a id="more"></a>
<pre><code>cd themes
wget https://github.com/LouisBarranqueiro/hexo-theme-tranquilpeak/releases/download/v1.6.2/hexo-theme-tranquilpeak-built-for-production-1.6.2.zip
unzip hexo-theme-tranquilpeak-built-for-production-1.6.2.zip
mv hexo-theme-tranquilpeak-built-for-production-1.6.2 tranquilpeak
</code></pre><blockquote>
<p>参考 <a href="https://github.com/LouisBarranqueiro/hexo-theme-tranquilpeak/issues/203" target="_blank" rel="external">this theme does not work well with me #203</a> ，如果是采用<code>git</code>方式获取源代码，则要自己build，否则无法工作只能看到没有任何css的丑陋页面。</p>
<p>只有使用<a href="https://github.com/LouisBarranqueiro/hexo-theme-tranquilpeak/releases/download/v1.6.2/hexo-theme-tranquilpeak-built-for-production-1.6.2.zip" target="_blank" rel="external">tranquilpeak v1.6.2 zip包</a> 才可直接使用</p>
</blockquote>
<p>如果是git方式安装，使用如下命令</p>
<pre><code>git submodule add https://github.com/LouisBarranqueiro/tranquilpeak-hexo-theme themes/tranquilpeak
cd themes/tranquilpeak

# install bower and grunt if not already installed
npm install -g bower grunt-cli

npm install
bower install
grunt build
</code></pre><blockquote>
<p>上述方法参考 <a href="http://inject.coffee/hexo-travis-s3-part-1-hexo-basics/" target="_blank" rel="external">Hexo, Travis, S3 - Part 1: Hexo basics</a></p>
</blockquote>
<h1 id="tranquilpeak_u8BBE_u7F6E"><a href="#tranquilpeak_u8BBE_u7F6E" class="headerlink" title="tranquilpeak设置"></a><code>tranquilpeak</code>设置</h1><p>修改<code>hexo</code>根目录下 <code>_config.yml</code></p>
<pre><code>theme: tranquilpeak
post_asset_folder: true
</code></pre><blockquote>
<p>设置<code>post_asset_folder</code>可以使用到封面图像，缩略图图像和照片展示等功能。</p>
</blockquote>
<h2 id="tranquilpeak_u8BE6_u7EC6_u5B9A_u5236"><a href="#tranquilpeak_u8BE6_u7EC6_u5B9A_u5236" class="headerlink" title="tranquilpeak详细定制"></a><code>tranquilpeak</code>详细定制</h2><blockquote>
<p>定制化的配置都要在<code>theme/tranquilpeak/_config.yml</code>完成，这个配置文件的优先级较高，并且很多原先在<code>hexo</code>根目录下<code>_config.yml</code>设置内容可能不能生效。</p>
<p>默认的<code>theme/tranquilpeak/_config.yml</code>配置已经足够好，我发现其实并没有需要修改的地方</p>
</blockquote>
<ul>
<li>Sidebar</li>
</ul>
<p><strong>不要修改</strong> 变量名 <code>sidebar</code>, <code>title</code>, <code>url</code> and <code>icon</code></p>
<p>其他变量名引用菜单或链接可以修改，例如 <code>menu</code>, <code>home</code>, <code>categories</code></p>
<blockquote>
<p>这部分可以保持默认配置</p>
</blockquote>
<ul>
<li>Header</li>
</ul>
<p><code>Header</code>是指阅读文档时候头部，例如可以定制</p>
<pre><code>header:
     right_link:
         url: /#about
         icon: question
         class:
</code></pre><p>这样在阅读文档的右上角就会有一个”?”图标，点击就会显示<code>about</code>页面</p>
<p>也可以按照推荐设置</p>
<pre><code>header:
    right_link:
        url: /#search
        icon: search
        class: st-search-show-outputs
</code></pre><ul>
<li><p>Author</p>
<pre><code># Author
author:
    email:
    location:
    picture:
    twitter:
    google_plus:
</code></pre></li>
</ul>
<blockquote>
<p><code>picture</code> 位于 <code>source/assets/images/</code>（production） 目录下指定一个图片</p>
<p>如果设置了<code>gravatar_email</code>就会覆盖这里设置的<code>author.picture</code>。不过，我发现可能显示不出（被墙）。</p>
</blockquote>
<ul>
<li><p>Customization</p>
<pre><code># Customization
sidebar_behavior: 2
toc_title: Table of contents
thumbnail_image: true
thumbnail_image_position: right
auto_thumbnail_image: true
cover_image: cover.jpg
favicon:
image_gallery: true
archive_pagination: true
category_pagination: true
tag_pagination: true
</code></pre></li>
</ul>
<blockquote>
<p><code>sidebar_behavior</code> 默认配置是<code>2</code>，也就是显示一个较缩略的导航栏，我将这个数值调整成<code>1</code>，这样就显示宽幅的导航栏（只有这种宽幅方式才能显示author的头像）</p>
<p>其他定制请参考原文</p>
</blockquote>
<ul>
<li><p>Integrated services</p>
<pre><code># Integrated services
disqus_shortname:
duoshuo_shortname:
gravatar_email: 
google_analytics_id:  
swiftype_install_key:
fb_admin_ids:
fb_app_id:
</code></pre></li>
</ul>
<blockquote>
<p>这里主要设置 <code>disqus_shortname</code> 以便能够显示Disqus的评论</p>
</blockquote>
<h1 id="u6FC0_u6D3B_u9875_u9762"><a href="#u6FC0_u6D3B_u9875_u9762" class="headerlink" title="激活页面"></a>激活页面</h1><p><code>Tranquilpeak</code>提供了3个页面来显示所有的<code>posts</code>和按照时间排序的<code>posts</code>，请分别按照以下步骤执行，否则无法在页面上点击<code>tags</code>和<code>categories</code>功能。</p>
<h2 id="u6FC0_u6D3Ball-categories_u9875_u9762"><a href="#u6FC0_u6D3Ball-categories_u9875_u9762" class="headerlink" title="激活all-categories页面"></a>激活<code>all-categories</code>页面</h2><p>执行命令</p>
<pre><code>hexo new page &quot;all-categories&quot;
</code></pre><p>然后将 <code>source/all-categories/index.md</code> 替换为</p>
<pre><code>---
title: &quot;all-categories&quot;
layout: &quot;all-categories&quot;
comments: false
---
</code></pre><blockquote>
<p>这样就会在<code>/all-categories</code>创建页面，访问者可以在这里搜索和过滤分类</p>
</blockquote>
<h2 id="u6FC0_u6D3Ball-tags_u9875_u9762"><a href="#u6FC0_u6D3Ball-tags_u9875_u9762" class="headerlink" title="激活all-tags页面"></a>激活<code>all-tags</code>页面</h2><p>执行命令</p>
<pre><code>hexo new page &quot;all-tags&quot;
</code></pre><p>然后将 <code>source/all-tags/index.md</code> 替换为</p>
<pre><code>---
title: &quot;all-tags&quot;
layout: &quot;all-tags&quot;
comments: false
---
</code></pre><h2 id="u6FC0_u6D3Ball-archives_u9875_u9762"><a href="#u6FC0_u6D3Ball-archives_u9875_u9762" class="headerlink" title="激活all-archives页面"></a>激活<code>all-archives</code>页面</h2><p>执行命令</p>
<pre><code>hexo new page &quot;all-archives&quot;
</code></pre><p>然后将 <code>source/all-archives/index.md</code> 替换为</p>
<pre><code>---
title: &quot;all-archives&quot;
layout: &quot;all-archives&quot;
comments: false
---
</code></pre><h1 id="u5B89_u88C5_u63D2_u4EF6"><a href="#u5B89_u88C5_u63D2_u4EF6" class="headerlink" title="安装插件"></a>安装插件</h1><p>前述的theme都配置启用了<code>rss</code>，需要安装插件<code>hexo-generator-feed</code></p>
<p>添加生成RSS和sitemap的插件</p>
<pre><code>npm install hexo-generator-feed --save
</code></pre><p>目录下的<code>_config.yml</code>文件添加以下内容</p>
<pre><code>feed:
  type: atom
  path: atom.xml
  limit: 20
</code></pre><p>以下步骤安装<code>sitemap</code>插件没有成功，暂时放弃</p>
<pre><code>npm install hexo-generator-sitemap --save

sitemap:
    path: sitemap.xml
</code></pre><p>这样就可以以普通用户身份（我是<code>huatai</code>）执行以下命令启动服务</p>
<pre><code>hexo server
</code></pre><p>在本机可以使用如下网址访问自己的blog <a href="http://127.0.0.1:4000" target="_blank" rel="external">http://127.0.0.1:4000</a></p>
<h1 id="u53C2_u8003"><a href="#u53C2_u8003" class="headerlink" title="参考"></a>参考</h1><ul>
<li><a href="https://github.com/LouisBarranqueiro/hexo-theme-tranquilpeak/blob/master/docs/user.md" target="_blank" rel="external">User documentation</a></li>
</ul>

            
                

            
        </div>
    </div>
    <div id="post-footer" class="post-footer main-content-wrap">
        
            <div class="post-footer-tags">
                <span class="text-color-light text-small">TAGGED IN</span><br/>
                
    <a class="tag tag--primary tag--small t-link" href="/tags/blog/">blog</a>

            </div>
        
        <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--disabled">
                
                    <i class="fa fa-angle-left"></i>
                    <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                </a>
            </li>
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2015/12/24/Vagrant-Box-management/" data-tooltip="Vagrant Box 管理">
                
                    <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                    <i class="fa fa-angle-right"></i>
                </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a class="post-action-btn btn btn--default btn-open-shareoptions"  href="#btn-open-shareoptions">
                <i class="fa fa-share-alt"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=http://blog.huatai.me/2016/02/13/hexo-theme-tranquilpeak/">
                <i class="fa fa-google-plus"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=http://blog.huatai.me/2016/02/13/hexo-theme-tranquilpeak/">
                <i class="fa fa-facebook-official"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=http://blog.huatai.me/2016/02/13/hexo-theme-tranquilpeak/">
                <i class="fa fa-twitter"></i>
            </a>
        </li>
        
            <li class="post-action">
                <a class="post-action-btn btn btn--default" href="#disqus_thread">
                    <i class="fa fa-comment-o"></i>
                </a>
            </li>
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#">
            
                <i class="fa fa-list"></i>
            </a>
        </li>
    </ul>
</div>


        
            
                <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
            
        
    </div>
</article>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2016 阿泰. All Rights Reserved.
    </span>
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="3">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--disabled">
                
                    <i class="fa fa-angle-left"></i>
                    <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                </a>
            </li>
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2015/12/24/Vagrant-Box-management/" data-tooltip="Vagrant Box 管理">
                
                    <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                    <i class="fa fa-angle-right"></i>
                </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a class="post-action-btn btn btn--default btn-open-shareoptions"  href="#btn-open-shareoptions">
                <i class="fa fa-share-alt"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=http://blog.huatai.me/2016/02/13/hexo-theme-tranquilpeak/">
                <i class="fa fa-google-plus"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=http://blog.huatai.me/2016/02/13/hexo-theme-tranquilpeak/">
                <i class="fa fa-facebook-official"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=http://blog.huatai.me/2016/02/13/hexo-theme-tranquilpeak/">
                <i class="fa fa-twitter"></i>
            </a>
        </li>
        
            <li class="post-action">
                <a class="post-action-btn btn btn--default" href="#disqus_thread">
                    <i class="fa fa-comment-o"></i>
                </a>
            </li>
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#">
            
                <i class="fa fa-list"></i>
            </a>
        </li>
    </ul>
</div>


                </div>
                <div id="share-options-bar" class="share-options-bar" data-behavior="3">
    <ul class="share-options">
        <li class="share-option">
            <a class="share-option-btn" target="new" href="https://plus.google.com/share?url=http://blog.huatai.me/2016/02/13/hexo-theme-tranquilpeak/">
                <i class="fa fa-google-plus"></i><span class="">Share on Google Plus</span>
            </a>
        </li>
        <li class="share-option">
            <a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=http://blog.huatai.me/2016/02/13/hexo-theme-tranquilpeak/">
                <i class="fa fa-facebook-official"></i><span>Share on Facebook</span>
            </a>
        </li>
        <li class="share-option">
            <a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=http://blog.huatai.me/2016/02/13/hexo-theme-tranquilpeak/">
                <i class="fa fa-twitter"></i><span>Share on Twitter</span>
            </a>
        </li>
    </ul>
</div>
<div id="share-options-mask" class="share-options-mask"></div>
            
        </div>
        


    
        
    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-remove"></i>
        </div>
        
            <img id="about-card-picture" src="/assets/images/me.png"/>
        
            <h4 id="about-card-name">阿泰</h4>
        
            <h5 id="about-card-bio"><p>author.bio</p>
</h5>
        
        
            <h5 id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>author.job</p>

            </h5>
        
        
    </div>
</div>

        
<div id="cover" style="background-image:url('/assets/images/cover.jpg');"></div>
    </body>
    <!--SCRIPTS-->
<script src="/assets/js/scrip-gfmrkxcl0qohe3cfdgxhzvc0yrceqta8i4iix0txvn8q4o2adlqd5n0jmkvt.min.js" type="text/javascript"></script>
<!--SCRIPTS END-->

    
        <script>
             var disqus_config = function () {
                 this.page.url = 'http://blog.huatai.me/2016/02/13/hexo-theme-tranquilpeak/';
                 
                    this.page.identifier = '2016/02/13/hexo-theme-tranquilpeak/';
                                  
             };
            (function() {
                var d = document, s = d.createElement('script');
                var disqus_shortname = 'bloghuataime';
                s.src = '//' + disqus_shortname + '.disqus.com/embed.js';

                s.setAttribute('data-timestamp', +new Date());
                (d.head || d.body).appendChild(s);
            })();
        </script>
    



</html>
