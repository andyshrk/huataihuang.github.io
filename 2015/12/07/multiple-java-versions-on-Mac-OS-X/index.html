
<!DOCTYPE html>
<html lang="en">
    
<head>
    <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" >
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="阿泰的菜园">
    <title>Mac OS X JAVA多版本并存 - 阿泰的菜园</title>
    <meta name="author" content="阿泰">
    
    
    
        <link rel="alternate" type="application/atom+xml" title="RSS" href="/atom.xml">
    
    <meta name="description" content="当前默认在Mac OS X上安装JAVA版本是最新的1.8.0_66-b17，但是也遇到有应用程序需要使用比较早期的JAVA版本。所以需要在Mac OS X上安装不同的JDK版本。
主要有两种方法：

使用Homebrew管理多个java版本
卸载最新的JAVA，然后先安装低版本JAVA再安装高版本JAVA，通过java_home来切换不同的JAVA版本。">
<meta property="og:type" content="blog">
<meta property="og:title" content="Mac OS X JAVA多版本并存">
<meta property="og:url" content="http://blog.huatai.me/2015/12/07/multiple-java-versions-on-Mac-OS-X/index.html">
<meta property="og:site_name" content="阿泰的菜园">
<meta property="og:description" content="当前默认在Mac OS X上安装JAVA版本是最新的1.8.0_66-b17，但是也遇到有应用程序需要使用比较早期的JAVA版本。所以需要在Mac OS X上安装不同的JDK版本。
主要有两种方法：

使用Homebrew管理多个java版本
卸载最新的JAVA，然后先安装低版本JAVA再安装高版本JAVA，通过java_home来切换不同的JAVA版本。">
<meta property="og:updated_time" content="2016-02-09T14:32:52.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Mac OS X JAVA多版本并存">
<meta name="twitter:description" content="当前默认在Mac OS X上安装JAVA版本是最新的1.8.0_66-b17，但是也遇到有应用程序需要使用比较早期的JAVA版本。所以需要在Mac OS X上安装不同的JDK版本。
主要有两种方法：

使用Homebrew管理多个java版本
卸载最新的JAVA，然后先安装低版本JAVA再安装高版本JAVA，通过java_home来切换不同的JAVA版本。">
<meta name="twitter:creator" content="@huatai">
    
    
        
    
    
        <meta property="og:image" content="http://blog.huatai.me/assets/images/me.png"/>
    
    
    
    
    <!--STYLES-->
    <link rel="stylesheet" href="/assets/css/style-ejlztp1tasruqfvoz6xmgqng0anzae8ox7cqjj5yibieqgcmhe9fwxfae6zj.min.css" type="text/css">
    <!--STYLES END-->
    
    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


<header id="header" data-behavior="3">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <h1 class="header-title">
        <a class="header-title-link" href="/ ">阿泰的菜园</a>
    </h1>
    
        
            <a  class="header-right-icon st-search-show-outputs"
                href="/#search">
        
        
            <i class="fa fa-lg fa-search"></i>
        
        </a>
    
</header>

            <!-- Define author's picture -->



        
    

<nav id="sidebar" data-behavior="3">
    
        <div class="sidebar-profile">
            <a href="/#about">
                    <img class="sidebar-profile-picture" src="/assets/images/me.png"/>
            </a>
            <span class="sidebar-profile-name">阿泰</span>
        </div>
    
    
        <ul class="sidebar-buttons">
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/ "
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-home"></i>
                    <span class="sidebar-button-desc">Home</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/all-categories"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
                    <span class="sidebar-button-desc">Categories</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/all-tags"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
                    <span class="sidebar-button-desc">Tags</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/all-archives"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-archive"></i>
                    <span class="sidebar-button-desc">Archives</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link st-search-show-outputs"
                         href="/#search"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-search"></i>
                    <span class="sidebar-button-desc">Search</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/#about"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-question"></i>
                    <span class="sidebar-button-desc">About</span>
                </a>
        </li>
        
    </ul>
    
        <ul class="sidebar-buttons">
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link " href="https://github.com/huataihuang" target="_blank">
                
                    <i class="sidebar-button-icon fa fa-lg fa-github"></i>
                    <span class="sidebar-button-desc">GitHub</span>
                </a>
        </li>
        
    </ul>
    
        <ul class="sidebar-buttons">
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/atom.xml"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-rss"></i>
                    <span class="sidebar-button-desc">RSS</span>
                </a>
        </li>
        
    </ul>
    
</nav>

            
            <div id="main" data-behavior="3"
                 class="
                        hasCoverMetaIn
                        ">
                
<article class="post" itemscope itemType="http://schema.org/BlogPosting">
    
    
        <div class="post-header main-content-wrap text-left">
    
        <h1 class="post-title" itemprop="headline">
            Mac OS X JAVA多版本并存
        </h1>
    
    <div class="post-meta">
    <time itemprop="datePublished" content="Mon Dec 07 2015 15:37:53 GMT+0800">
	
		    Dec 07, 2015
    	
    </time>
    
</div>
</div>
    
    <div class="post-content markdown" itemprop="articleBody">
        <div class="main-content-wrap">
            <p>当前默认在Mac OS X上安装JAVA版本是最新的<code>1.8.0_66-b17</code>，但是也遇到有应用程序需要使用比较早期的JAVA版本。所以需要在Mac OS X上安装不同的JDK版本。</p>
<p>主要有两种方法：</p>
<ul>
<li>使用<a href="http://brew.sh/" target="_blank" rel="external">Homebrew</a>管理多个java版本</li>
<li>卸载最新的JAVA，然后先安装低版本JAVA再安装高版本JAVA，通过<code>java_home</code>来切换不同的JAVA版本。</li>
</ul>
<a id="more"></a>
<h1 id="u4F7F_u7528java_home_u5207_u6362JAVA_u7248_u672C"><a href="#u4F7F_u7528java_home_u5207_u6362JAVA_u7248_u672C" class="headerlink" title="使用java_home切换JAVA版本"></a>使用<code>java_home</code>切换JAVA版本</h1><ul>
<li>首先卸载系统中已经安装的最新版本的<code>1.8.0_66-b17</code></li>
</ul>
<blockquote>
<p>在<a href="https://www.java.com/en/download/help/mac_uninstall_java.xml" target="_blank" rel="external">Mac上卸载Java</a> 需要执行以下步骤</p>
</blockquote>
<p>在Terminal终端中执行以下命令</p>
<pre><code>sudo rm -fr /Library/Internet\ Plug-Ins/JavaAppletPlugin.plugin
sudo rm -fr /Library/PreferencePanes/JavaControlPanel.prefpane
</code></pre><blockquote>
<p>上述方法和<a href="http://techhelpkb.com/uninstall-java-on-mac/" target="_blank" rel="external">How can I uninstall Java on Mac (and reinstall Apple’s Java 6)?</a>中通过Finder找到<code>JavaAppletPlugin.plugin</code>进行删除是一样的效果。</p>
</blockquote>
<p>上述命令只是删除了<code>plugin</code>和<code>System Perference</code>中的控制项，实际执行程序并没有删除。删除执行程序的方法参考<a href="http://stackoverflow.com/questions/19039752/removing-java-8-jdk-from-mac" target="_blank" rel="external">Removing Java 8 JDK from Mac</a></p>
<pre><code>sudo rm -rf /Library/Java/JavaVirtualMachines/jdk&lt;version&gt;.jdk
sudo rm -rf /Library/PreferencePanes/JavaControlPanel.prefPane
sudo rm -rf /Library/Internet\ Plug-Ins/JavaAppletPlugin.plugin
sudo rm -rf /Library/LaunchAgents/com.oracle.java.Java-Updater.plist
sudo rm -rf /Library/PrivilegedHelperTools/com.oracle.java.JavaUpdateHelper
sudo rm -rf /Library/LaunchDaemons/com.oracle.java.JavaUpdateHelper.plist
sudo rm -rf /Library/Preferences/com.oracle.java.Helper-Tool.plist
</code></pre><blockquote>
<p>上述方法删除彻底，此时再执行<code>java -version</code>时，OS X会引导去Oracled Java安装的下载网站（已经不再提供Java 6的下载）</p>
</blockquote>
<ul>
<li><p>安装Java版本<code>1.7.0_80-b15</code>，安装完成后执行<code>java -version</code>可以看到当前版本是<code>1.7.0_80-b15</code></p>
</li>
<li><p>再次安装Java版本<code>1.8.0_66-b17</code></p>
</li>
<li><p>安装完成后执行<code>java -version</code>可以看到版本现在切换到了<code>1.8.0_66-b17</code>。不过，此时系统中实际已经安装了2个版本的JDK，下面我们要设置多版本切换。</p>
</li>
<li><p>检查当前系统安装的Java版本</p>
<p>  /usr/libexec/java_home -verbose</p>
</li>
</ul>
<p>可以看到输出有两个版本</p>
<pre><code>Matching Java Virtual Machines (2):
    1.8.0_66, x86_64:    &quot;Java SE 8&quot;    /Library/Java/JavaVirtualMachines/jdk1.8.0_66.jdk/Contents/Home
    1.7.0_80, x86_64:    &quot;Java SE 7&quot;    /Library/Java/JavaVirtualMachines/jdk1.7.0_80.jdk/Contents/Home

/Library/Java/JavaVirtualMachines/jdk1.8.0_66.jdk/Contents/Home
</code></pre><ul>
<li>设置终端中通过<code>java7</code>命令和<code>java8</code>命令来切换环境（<a href="/Library/Java/JavaVirtualMachines/jdk1.8.0_66.jdk/Contents/Home">Mac OS X and multiple Java versions</a>）</li>
</ul>
<p>在<code>~/.bash_profile</code>中添加设置</p>
<pre><code>export JAVA_8_HOME=$(/usr/libexec/java_home -v1.8)
export JAVA_7_HOME=$(/usr/libexec/java_home -v1.7)

alias java7=&apos;export JAVA_HOME=$JAVA_7_HOME&apos;
alias java8=&apos;export JAVA_HOME=$JAVA_8_HOME&apos;

#default java8
export JAVA_HOME=$JAVA_8_HOME
</code></pre><p>然后就可以通过命令<code>java7</code>或者<code>java8</code>来切换环境，切换环境后，再在终端中执行<code>java</code>命令就会对应使用指定的Java版本。</p>
<blockquote>
<p>通过<code>java_home</code>方法可以切换终端中执行的java版本，但是无法影响图形应用程序执行的java版本。</p>
</blockquote>
<h1 id="u4F7F_u7528homebrew_u7BA1_u7406java_u591A_u7248_u672C"><a href="#u4F7F_u7528homebrew_u7BA1_u7406java_u591A_u7248_u672C" class="headerlink" title="使用homebrew管理java多版本"></a>使用<code>homebrew</code>管理java多版本</h1><blockquote>
<p><strong>未实践</strong> 记录供参考 <a href="http://stackoverflow.com/questions/26252591/mac-os-x-and-multiple-java-versions" target="_blank" rel="external">Mac OS X and multiple Java versions</a></p>
</blockquote>
<ul>
<li><p>安装<a href="http://brew.sh" target="_blank" rel="external">homebrew</a></p>
<pre><code>ruby -e &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)&quot;
</code></pre></li>
<li><p>安装homebrew <code>jenv</code></p>
<pre><code>brew install jenv
</code></pre></li>
<li><p>安装 <code>homebrew-cask</code></p>
<pre><code>brew install homebrew-cask
</code></pre></li>
<li><p>查看当前版本</p>
<pre><code>brew cask search java
</code></pre></li>
<li><p>安装需要的java版本</p>
<pre><code>brew cask install java7
brew cask install java6
</code></pre></li>
<li><p>使用<code>jenv</code>管理版本</p>
<p>  jenv add /Library/Java/JavaVirtualMachines/jdk1.7.0_80.jdk/Contents/Home</p>
</li>
</ul>
<blockquote>
<p>使用<code>/usr/libexec/java_home -verbose</code>来检查系统安装的JDK版本</p>
</blockquote>
<h1 id="u53C2_u8003"><a href="#u53C2_u8003" class="headerlink" title="参考"></a>参考</h1><ul>
<li><a href="https://dzone.com/articles/multiple-versions-java-os-x" target="_blank" rel="external">Multiple Versions of Java on OS X Mavericks</a> 这个文档提供了在终端中切换Java的方法（但是不影响图形界面运行java程序）</li>
<li><p>图形界面运行java程序指定java版本需要一些hack - <a href="http://stackoverflow.com/questions/17885494/how-can-i-change-mac-oss-default-java-vm-returned-from-usr-libexec-java-home" target="_blank" rel="external">* <a href="https://dzone.com/articles/multiple-versions-java-os-x" target="_blank" rel="external">Multiple Versions of Java on OS X Mavericks</a></a> 不过我没有实践成功（没有理解方法）</p>
</li>
<li><p>卸载Java on Mac的方法：</p>
<ul>
<li><a href="http://techhelpkb.com/uninstall-java-on-mac/" target="_blank" rel="external">How can I uninstall Java on Mac (and reinstall Apple’s Java 6)?</a></li>
<li>官方文档<a href="https://www.java.com/en/download/help/mac_uninstall_java.xml" target="_blank" rel="external">How do I uninstall Java on my Mac?</a></li>
<li>完整的删除方法<a href="http://stackoverflow.com/questions/19039752/removing-java-8-jdk-from-mac" target="_blank" rel="external">Removing Java 8 JDK from Mac</a></li>
</ul>
</li>
<li><a href="http://stackoverflow.com/questions/26252591/mac-os-x-and-multiple-java-versions" target="_blank" rel="external">Mac OS X and multiple Java versions</a></li>
</ul>

            
                

            
        </div>
    </div>
    <div id="post-footer" class="post-footer main-content-wrap">
        
            <div class="post-footer-tags">
                <span class="text-color-light text-small">TAGGED IN</span><br/>
                
    <a class="tag tag--primary tag--small t-link" href="/tags/Java/">Java</a>

            </div>
        
        <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2015/12/24/Gentoo-Linux-upgrade-error-C-compiler-cannot-create-executables/"  data-tooltip="Gentoo Linux升级报错: C compiler cannot create executables">
                
                    <i class="fa fa-angle-left"></i>
                    <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                </a>
            </li>
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2015/12/06/climbing-for-newbie-me/" data-tooltip="给爬山小白的自己一点建议">
                
                    <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                    <i class="fa fa-angle-right"></i>
                </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a class="post-action-btn btn btn--default btn-open-shareoptions"  href="#btn-open-shareoptions">
                <i class="fa fa-share-alt"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=http://blog.huatai.me/2015/12/07/multiple-java-versions-on-Mac-OS-X/">
                <i class="fa fa-google-plus"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=http://blog.huatai.me/2015/12/07/multiple-java-versions-on-Mac-OS-X/">
                <i class="fa fa-facebook-official"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=http://blog.huatai.me/2015/12/07/multiple-java-versions-on-Mac-OS-X/">
                <i class="fa fa-twitter"></i>
            </a>
        </li>
        
            <li class="post-action">
                <a class="post-action-btn btn btn--default" href="#disqus_thread">
                    <i class="fa fa-comment-o"></i>
                </a>
            </li>
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#">
            
                <i class="fa fa-list"></i>
            </a>
        </li>
    </ul>
</div>


        
            
                <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
            
        
    </div>
</article>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2016 阿泰. All Rights Reserved.
    </span>
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="3">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2015/12/24/Gentoo-Linux-upgrade-error-C-compiler-cannot-create-executables/"  data-tooltip="Gentoo Linux升级报错: C compiler cannot create executables">
                
                    <i class="fa fa-angle-left"></i>
                    <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                </a>
            </li>
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2015/12/06/climbing-for-newbie-me/" data-tooltip="给爬山小白的自己一点建议">
                
                    <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                    <i class="fa fa-angle-right"></i>
                </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a class="post-action-btn btn btn--default btn-open-shareoptions"  href="#btn-open-shareoptions">
                <i class="fa fa-share-alt"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=http://blog.huatai.me/2015/12/07/multiple-java-versions-on-Mac-OS-X/">
                <i class="fa fa-google-plus"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=http://blog.huatai.me/2015/12/07/multiple-java-versions-on-Mac-OS-X/">
                <i class="fa fa-facebook-official"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=http://blog.huatai.me/2015/12/07/multiple-java-versions-on-Mac-OS-X/">
                <i class="fa fa-twitter"></i>
            </a>
        </li>
        
            <li class="post-action">
                <a class="post-action-btn btn btn--default" href="#disqus_thread">
                    <i class="fa fa-comment-o"></i>
                </a>
            </li>
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#">
            
                <i class="fa fa-list"></i>
            </a>
        </li>
    </ul>
</div>


                </div>
                <div id="share-options-bar" class="share-options-bar" data-behavior="3">
    <ul class="share-options">
        <li class="share-option">
            <a class="share-option-btn" target="new" href="https://plus.google.com/share?url=http://blog.huatai.me/2015/12/07/multiple-java-versions-on-Mac-OS-X/">
                <i class="fa fa-google-plus"></i><span class="">Share on Google Plus</span>
            </a>
        </li>
        <li class="share-option">
            <a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=http://blog.huatai.me/2015/12/07/multiple-java-versions-on-Mac-OS-X/">
                <i class="fa fa-facebook-official"></i><span>Share on Facebook</span>
            </a>
        </li>
        <li class="share-option">
            <a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=http://blog.huatai.me/2015/12/07/multiple-java-versions-on-Mac-OS-X/">
                <i class="fa fa-twitter"></i><span>Share on Twitter</span>
            </a>
        </li>
    </ul>
</div>
<div id="share-options-mask" class="share-options-mask"></div>
            
        </div>
        


    
        
    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-remove"></i>
        </div>
        
            <img id="about-card-picture" src="/assets/images/me.png"/>
        
            <h4 id="about-card-name">阿泰</h4>
        
            <h5 id="about-card-bio"><p>author.bio</p>
</h5>
        
        
            <h5 id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>author.job</p>

            </h5>
        
        
    </div>
</div>

        
<div id="cover" style="background-image:url('/assets/images/cover.jpg');"></div>
    </body>
    <!--SCRIPTS-->
<script src="/assets/js/scrip-gfmrkxcl0qohe3cfdgxhzvc0yrceqta8i4iix0txvn8q4o2adlqd5n0jmkvt.min.js" type="text/javascript"></script>
<!--SCRIPTS END-->

    
        <script>
             var disqus_config = function () {
                 this.page.url = 'http://blog.huatai.me/2015/12/07/multiple-java-versions-on-Mac-OS-X/';
                 
                    this.page.identifier = '2015/12/07/multiple-java-versions-on-Mac-OS-X/';
                                  
             };
            (function() {
                var d = document, s = d.createElement('script');
                var disqus_shortname = 'bloghuataime';
                s.src = '//' + disqus_shortname + '.disqus.com/embed.js';

                s.setAttribute('data-timestamp', +new Date());
                (d.head || d.body).appendChild(s);
            })();
        </script>
    



</html>
